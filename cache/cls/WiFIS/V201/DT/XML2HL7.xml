<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="WiFIS.V201.DT.XML2HL7">
<Description>
Transformacion de un HL7v2.5 en XML a ER7</Description>
<Super>Ens.DataTransform</Super>
<TimeCreated>63119,70986.574853</TimeCreated>

<Parameter name="SrcVer">
<Description>
Location and Revision of this file in Perforce (Auto-updating)</Description>
<Default>$Id: //custom_ccrs/_common/tools/Iberia/WiFIS/latest/cls/WiFIS/V201/DT/XML2HL7.xml#1 $</Default>
</Parameter>

<Method name="Transform">
<ClassMethod>1</ClassMethod>
<FormalSpec>source:WiFIS.V201.Msg.GenericReq,target:EnsLib.HL7.Message</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#DIM tSC as %Status=$$$OK
	#DIM errObj as %Exception.AbstractException
	set target=""
	try {
		set target = ##class(ITB.HL7.Util.Convert).XMLToER7(source.DatosXML, .tSC, "WIFIS")
		if $$$ISERR(tSC) $$$ThrowStatus(tSC)
		
		do ##class(WiFIS.V201.Utils.Functions).WiFISSetServicioTipo(source.Servicio, source.Tipo, .target)
	} catch(errObj) {
		set tSC=errObj.AsStatus()
	}
	quit tSC
]]></Implementation>
</Method>
</Class>
</Export>
